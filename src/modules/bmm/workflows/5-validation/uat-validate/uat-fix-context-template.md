# UAT Fix Context - Epic {epic_id} (Attempt {attempt})

**Generated:** {timestamp}
**Epic:** {epic_name}
**Gate Result:** FAIL ({passed}/{total} scenarios passed)

---

## Summary

This document contains the context needed to fix UAT failures for Epic {epic_id}. Load this document and implement targeted fixes for each failure listed below.

**Failures to fix:** {failure_count}
**Fix attempt:** {attempt} of {max_retries}

---

## Failed Scenarios

{#each failed_scenario}
### Scenario {scenario_id}: {scenario_name}

**Command Executed:**
```bash
{command}
```

**Expected Result:**
{expected_result}

**Actual Result:**
```
{actual_output}
```

**Error Output:**
```
{stderr}
```

**Exit Code:** {exit_code}

**Related Story:** {story_id}

**Acceptance Criteria:**
{#each acceptance_criteria}
- {criterion}
{/each}

**Root Cause Hint:**
{root_cause_hint}

**Files Likely Involved:**
{#each likely_files}
- `{file_path}`
{/each}

---
{/each}

## Fix Instructions

Address the failures above in priority order. For each fix:

1. **Analyze** - Understand why the scenario failed
2. **Locate** - Find the relevant code files
3. **Fix** - Implement the minimum change to resolve the failure
4. **Verify** - Run the scenario command locally to confirm fix
5. **Commit** - Use message format: `fix(epic-{epic_id}): {description}`

### Priority Order

{#each failed_scenario}
{priority}. **Scenario {scenario_id}**: {one_line_description}
{/each}

---

## Constraints

- Only fix the identified failures - do not refactor unrelated code
- Run the specific failing commands to verify each fix
- Run project tests after all fixes: `npm test`
- Commit with conventional format: `fix(epic-{epic_id}): {description}`
- If a fix requires changes that would break other scenarios, document the tradeoff

---

## Context Files

The following files may provide additional context:

| File | Purpose |
|------|---------|
| `{uat_doc_path}` | Full UAT document with all scenarios |
| `{story_files}` | Story files with complete acceptance criteria |
| `{architecture_doc}` | System architecture reference |

---

## After Fixing

Once all fixes are committed, the UAT validation will automatically re-run.

- **If all pass:** Epic continues to next phase
- **If failures remain:** Another fix context will be generated (attempt {next_attempt})
- **If max retries exceeded:** Chain halts for human intervention

---

*Generated by UAT Validate Workflow*
*BMAD Method - Epic Chain Self-Healing*
